{% extends "base.html" %}

{% block styles %}
    {{ super() }}
    <link rel="stylesheet" type="text/css" href="{{ url_for('frontend.static', filename='css/system.css') }}">
    <link rel="stylesheet" type="text/css" href="{{ url_for('frontend.static', filename='css/annotations.css') }}">
{% endblock %}

{% block title %}System{% endblock %}

{% block content %}

    <div class="container">
        <div class="row">
            <ul class="nav nav-pills nav-justified">
                <li id="overview-li" class="active"><a href="{{ url_for("frontend.sys_overview", system_uid=metadata.UID) }}" title="Overview">
                    Overview <span class="sr-only">(current)</span></a>
                </li>
                <li id="analytics-li">
                    <a href="#" title="Analytics">Analytics</a>
                </li>
               <li id="measurement-li">
                    <a href="{{ url_for("frontend.sys_measurements", system_uid=metadata.UID) }}" title="Measurement">Input</a>
                </li>
                <li id="annotate-li">
                    <a href="{{ url_for("frontend.sys_annotations", system_uid=metadata.UID) }}" title="Annotations">Annotations</a>
                </li>
            </ul>
        </div>

        <div class="row">
            <h3>
            System Snapshot
            {# Edit system functionality
            <button class="btn btn-default pull-right"><i class="fa fa-cog"></i></button>
            #}
        </h3>
        <div class="row">
            <p><strong>System Name:</strong> {{ metadata.name }}</p>
            <p><strong>Date Created:</strong> {{ metadata.startDate }}</p>
            <p><strong>Aquaponics Technique:</strong> {{ metadata.technique }}</p>
            <p><strong>Growbed-Media:</strong> {{ metadata.gbMedia }}</p>
            </div>
            <div class="row">
                <div class="col-md-6">
                    <h4 class="page-header">Crop(s)</h4>
                    <table class="table">
                        <tbody>
                        {% for crop in metadata.crops %}
                            <tr>
                                <td class="col-xs-10">{{ crop.name }}</td>
                                <td>{{ crop.count }}</td>
                            </tr>
                        {% endfor %}
                        </tbody>
                    </table>
                </div>
                <div class="col-md-6">
                    <h4 class="page-header">Organism(s)</h4>
                    <table class="table">
                        <tbody>
                        {% for org in metadata.organisms %}
                            <tr>
                                <td class="col-xs-10">{{ org.name }}</td>
                                <td>{{ org.count }}</td>
                            </tr>
                        {% endfor %}
                        </tbody>
                    </table>
                </div>
            </div>
        </div>
    </div>

{% endblock %}

{% block scripts %}
    {{ super() }}
    <script src="{{ url_for('frontend.static', filename='js/jquery.slides.min.js') }}"></script>
    <script src="{{ url_for('frontend.static', filename='js/systems.js') }}"></script>
    <script src="{{ url_for('frontend.static', filename='js/annotation.js') }}"></script>
{% endblock scripts %}